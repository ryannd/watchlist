#!/usr/bin/env sh

# Husky v10+ prepare-commit-msg hook
# Automatically run Commitizen if commit was called directly

# Get the commit message file path
COMMIT_SOURCE="$2"

# Only auto-launch Commitizen for normal commits, not merges, squash, or CI
if [ -z "$COMMIT_SOURCE" ]; then
  # Open Commitizen interactive prompt
  exec pnpm commit
fi